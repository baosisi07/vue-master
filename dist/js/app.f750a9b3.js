(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{114:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{}}}},115:function(e,t,a){"use strict";a.r(t);var n=a(114),s=a.n(n);for(var u in n)"default"!==u&&function(e){a.d(t,e,function(){return n[e]})}(u);t.default=s.a},141:function(e,t,a){"use strict";var n=function(){var e=this.$createElement;return(this._self._c||e)("router-view")},s=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s})},230:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(229)),s=a(152),u=a(33);t.default=function(e,t){var a="JWT "+(0,u.getSessionStore)("auth"),i=void 0;t.hideLoading||(i=s.Loading.service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));var o={};o=e.indexOf("auth")<0?{Authorization:a||"","content-type":"application/json"}:{"content-type":"application/json"},(0,n.default)({method:t.type||"get",url:"http://112.126.81.28:48888"+e,headers:o,data:t.data||"",timeout:1e4}).then(function(e){return t.hideLoading||i.close(),t.success(e)}).catch(function(e){t.hideLoading||(i.close(),(0,s.Message)({type:"error",message:"网络错误，请重试！"})),e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})}},231:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(230));t.default={Login:function(e,t){(0,n.default)("/api/v1/auth/",{type:"post",data:e,success:function(e){t.success(e)}})},Logout:function(e,t){(0,n.default)("/api/logout",{type:"get",data:e,success:function(e){t.success(e)}})},getCities:function(e,t){(0,n.default)("/api/v1/cities/",{type:"get",success:function(e){t.success(e)}})},getBrand:function(e,t){(0,n.default)("/api/v1/brands/",{type:"get",success:function(e){t.success(e)}})},getModel:function(e,t){(0,n.default)("/api/v1/models/?parent="+e.parent+"&order="+e.order,{type:"get",hideLoading:!0,success:function(e){t.success(e)}})},getModelDetail:function(e,t){(0,n.default)("/api/v1/model-details/?global_slug="+e.global_slug+"&order="+e.order,{type:"get",hideLoading:!0,success:function(e){t.success(e)}})},getTaskHistory:function(e,t){(0,n.default)("/api/v1/evaluation-tasks/?limit="+e.limit+"&offset="+e.offset+"&user="+e.user+"&task_type="+e.task_type+"&starting_date_0="+e.starting_date_0+"&starting_date_1="+e.starting_date_1,{type:"get",success:function(e){t.success(e)}})},getUserList:function(e,t){(0,n.default)("/api/v1/users/",{type:"get",data:e,success:function(e){t.success(e)}})},postTaskInfo:function(e,t){(0,n.default)("/api/v1/evaluation-tasks/",{type:"post",data:e,success:function(e){t.success(e)}})},postInfo:function(e,t){(0,n.default)("/api/deal-data/v1/deal-records/",{type:"post",data:e,success:function(e){t.success(e)}})},getCurrentTask:function(e,t){(0,n.default)("/api/v1/evaluation-tasks/current-task/?task_type="+e.task_type,{type:"get",success:function(e){t.success(e)}})},getDataDetail:function(e,t){(0,n.default)("/api/v1/validations/getone/",{type:"get",data:e,success:function(e){t.success(e)}})},getPlatform:function(e,t){(0,n.default)("/api/v1/domains/",{type:"get",data:e,success:function(e){t.success(e)}})},dealData:function(e,t,a){(0,n.default)("/api/v1/validations/"+e+"/",{type:"patch",data:t,success:function(e){a.success(e)}})},searchDealer:function(e,t){var a="";e.city&&(a="&city="+e.city),(0,n.default)("/api/v1/dealers/?company_name="+e.company_name+a,{type:"get",hideLoading:!0,success:function(e){t.success(e)}})}}},232:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(140)),s=i(a(231)),u=a(33);function i(e){return e&&e.__esModule?e:{default:e}}t.default={userLogin:function(e,t){var a={account:t.username,password:t.password,appid:"68eac7a221b511e7863a305a3a7b52d5"};s.default.Login(a,{success:function(n){a.userId=n.data.id,a.isAdmin=n.data.profile.user_type,a.username=n.data.profile.alias,a.auth=n.data.token,e.commit("RECORD_USERINFO",a),(0,u.getSessionStore)("login")&&t.router.push({path:"/home"})}})},userLogout:function(e,t){var a={userId:"",isAdmin:""};e.commit("LOGOUT_USER",a),t.router.push({path:"/login"})},getUserList:function(e){var t={user_type:(0,u.getSessionStore)("isAdmin")};s.default.getUserList(t,{success:function(t){e.commit("GET_USER",t.data.results)}})},getTaskHistory:function(e,t){e.commit("TASK_SEARCH",t);var a={limit:e.state.pagination.pageSize,offset:e.state.pagination.pageSize*(e.state.pagination.currentPage-1),user:e.state.taskSearchRuleForm.people,task_type:e.state.taskSearchRuleForm.taskType,starting_date_0:e.state.taskSearchRuleForm.startEndDate.length>0?e.state.taskSearchRuleForm.startEndDate[0]:"",starting_date_1:e.state.taskSearchRuleForm.startEndDate.length>0?e.state.taskSearchRuleForm.startEndDate[1]:""};s.default.getTaskHistory(a,{success:function(t){e.commit("OBTAIN_TASK_HISTORY",t.data)}})},getCities:function(e){s.default.getCities("",{success:function(t){e.commit("GET_CITIES",t.data)}})},getBrand:function(e){s.default.getBrand("",{success:function(t){e.commit("GET_BRAND",t.data)}})},getModel:function(e,t){var a={};a.brand=t.parent,s.default.getModel(t,{success:function(t){a.model=t.data,e.commit("GET_MODEL",a)}})},getModelDetail:function(e,t){var a={};a.global_slug=t.global_slug,a.order=t.order,s.default.getModelDetail(a,{success:function(n){a.brand=t.brand,a.modelDetail=n.data,e.commit("GET_MODEL_DETAIL",a)}})},postTaskInfo:function(e,t){var a=(0,n.default)({},t);delete a.refs,delete a.showMsg,s.default.postTaskInfo(a,{success:function(e){t.refs(),t.showMsg({msg:"任务分配成功！",type:"success"})}})},postInfo:function(e,t){var a=(0,n.default)({},t);delete a.refs,delete a.showMsg,console.log(a),s.default.postInfo(a,{success:function(e){t.refs(),t.showMsg({msg:"数据录入成功！",type:"success"})}})},getCurrentTask:function(e,t){s.default.getCurrentTask(t,{success:function(a){200===a.status?(e.commit("CHANGE_TASK_TYPE_OPERATE",{success:200}),e.commit("GET_CURRENT_TASK",a.data)):400===a.status&&e.commit("CHANGE_TASK_TYPE_OPERATE",t)}})},getDataDetail:function(e){s.default.getDataDetail({},{success:function(t){e.commit("GET_DATA_DETAIL",t.data)}})},getPlatform:function(e){s.default.getPlatform({},{success:function(t){e.commit("GET_PLATFORM",t.data)}})},dealData:function(e,t){var a=(0,n.default)({},t);delete a.id,delete a.message,delete a.refs,s.default.dealData(t.id,a,{success:function(e){200===e.status&&(t.message(),t.refs&&t.refs())}})},searchDealer:function(e,t){var a=(0,n.default)({},t);delete a.callBack,s.default.searchDealer(a,{success:function(s){t.callBack();var u=(0,n.default)({},a);u.list=s.data,e.commit("DEAL_DEALER",u)}})}}},233:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isLogin:function(e){return e.login},getMenus:function(e){return e.menus},getCurrent:function(e){return e.defaultNav}}},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RECORD_USERINFO="RECORD_USERINFO",t.LOGOUT_USER="LOGOUT_USER",t.CURRENT_ROUTER="CURRENT_ROUTER",t.GET_MENUS="GET_MENUS",t.OBTAIN_TASK_HISTORY="OBTAIN_TASK_HISTORY",t.GET_CITIES="GET_CITIES",t.GET_BRAND="GET_BRAND",t.GET_MODEL="GET_MODEL",t.GET_MODEL_DETAIL="GET_MODEL_DETAIL",t.GET_USER="GET_USER",t.TASK_SEARCH="TASK_SEARCH",t.GET_CURRENT_TASK="GET_CURRENT_TASK",t.GET_DATA_DETAIL="GET_DATA_DETAIL",t.GET_PLATFORM="GET_PLATFORM",t.DEAL_DEALER="DEAL_DEALER",t.CHANGE_TASK_TYPE_OPERATE="CHANGE_TASK_TYPE_OPERATE"},239:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(a(238)),u=r(a(140)),i=a(234),o=a(33),l=r(a(36));function r(e){return e&&e.__esModule?e:{default:e}}t.default=(n={},(0,s.default)(n,i.RECORD_USERINFO,function(e,t){(0,o.setSessionStore)("login",!0),(0,o.setSessionStore)("username",t.username),(0,o.setSessionStore)("auth",t.auth),(0,o.setSessionStore)("isAdmin",t.isAdmin),9===t.isAdmin?(0,o.setSessionStore)("defaultNav",e.adminMenus[0].index):(0,o.setSessionStore)("defaultNav",e.normalMenus[0].index),e.userinfo=(0,u.default)({},t),e.login=!0}),(0,s.default)(n,i.LOGOUT_USER,function(e,t){(0,o.removeSessionStore)("username"),(0,o.removeSessionStore)("login"),(0,o.removeSessionStore)("defaultNav"),(0,o.removeSessionStore)("isAdmin"),(0,o.removeSessionStore)("auth"),e.userinfo=(0,u.default)({},t),e.login=!1}),(0,s.default)(n,i.GET_MENUS,function(e,t){var a=t.isAdmin;return e.menus="9"===a?(0,u.default)({},e.adminMenus):(0,u.default)({},e.normalMenus),e.menus}),(0,s.default)(n,i.CURRENT_ROUTER,function(e,t){e.defaultNav=t.defaultNav,(0,o.setSessionStore)("defaultNav",e.defaultNav)}),(0,s.default)(n,i.GET_USER,function(e,t){var a=[];return t.forEach(function(e){var t={};t.value=e.id,t.label=e.profile.alias,a.push(t)}),e.usersList=a,e.usersList}),(0,s.default)(n,i.TASK_SEARCH,function(e,t){t.limit?e.pagination.pageSize=t.limit:t.currentPage?e.pagination.currentPage=t.currentPage:e.taskSearchRuleForm=(0,u.default)({},t)}),(0,s.default)(n,i.OBTAIN_TASK_HISTORY,function(e,t){var a=[];return e.pagination.total=t.count,t.results.forEach(function(e){var t={};t.name=e.user.profile.alias,t.taskDate=e.starting_date,t.taskType=e.task_type,t.taskName=e.task_name,t.totalTask=e.task_amount,t.finished=e.finished_amount,t.planFinish=e.finishing_date,t.taskTypeName="1"===e.task_type?"数据录入":"数据验证",a.push(t)}),e.taskHistoryTable=a,e.taskHistoryTable}),(0,s.default)(n,i.GET_CITIES,function(e,t){var a=[];return t.forEach(function(e){var t=[];t.label=e.name,t.value=e.name,t.children=[],e.cities.length>0&&e.cities.forEach(function(e){var a={};a.label=e.name,a.value=e.name,t.children.push(a)}),a.push(t)}),e.cities=a,e.cities}),(0,s.default)(n,i.GET_BRAND,function(e,t){var a=[];return t.forEach(function(e){var t=[];t.label=e.name,t.value=e.slug,t.children=[],a.push(t)}),e.brandList=a,e.brandList}),(0,s.default)(n,i.GET_MODEL,function(e,t){var a=[];return t.model.forEach(function(e){var t=[];t.label=e.name,t.value=e.slug,t.children=[],a.push(t)}),e.modelList=a,e.brandList.forEach(function(n,s){if(n.value===t.brand){var u={};u.value=n.value,u.label=n.label,u.children=a,l.default.set(e.brandList,s,u)}}),e.brandList}),(0,s.default)(n,i.GET_MODEL_DETAIL,function(e,t){var a=[];return t.modelDetail.forEach(function(e){var t=[];t.label=e.detail_model,t.value=e.detail_model_slug,a.push(t)}),e.modelDetailList=a,e.brandList.forEach(function(n,s){n.value===t.brand&&e.modelList.forEach(function(n,u){if(n.value===t.global_slug){var i={};i.value=n.value,i.label=n.label,i.children=a,l.default.set(e.brandList[s].children,u,i)}})}),e.brandList}),(0,s.default)(n,i.GET_CURRENT_TASK,function(e,t){var a={};a.title=t.task_name,a.total=t.task_amount,a.finished=t.finished_amount,a.startDate=t.starting_date,a.finishDate=t.finishing_date,e.tasksData=(0,u.default)({},a)}),(0,s.default)(n,i.GET_DATA_DETAIL,function(e,t){e.dataDetail=(0,u.default)({},t)}),(0,s.default)(n,i.GET_PLATFORM,function(e,t){var a=[];t.forEach(function(e){var t=[];t.label=e.name,t.value=e.domain,a.push(t)}),e.platForm=(0,u.default)({},a)}),(0,s.default)(n,i.DEAL_DEALER,function(e,t){if(t.list){var a=[];t.list.forEach(function(e){var t=[];t.label=e.company_name,t.value=e.id,a.push(t)}),e.dealerList=a.filter(function(e){return e.label.toLowerCase().indexOf(t.company_name.toLowerCase())>-1})}else e.dealerList=[]}),(0,s.default)(n,i.CHANGE_TASK_TYPE_OPERATE,function(e,t){t.success?(e.isAbleInput=!0,e.isAbleValidate=!0):"1"===t.task_type?e.isAbleInput=!1:"2"===t.task_type&&(e.isAbleValidate=!1)}),n)},240:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={login:!1,userinfo:{username:"",password:"",isAdmin:!1,userId:0},defaultNav:"",menus:[],normalMenus:[{name:"数据录入",index:"/home/dataInput",icon:"el-icon-edit"},{name:"数据验证",index:"/home/validateData",icon:"el-icon-circle-check-outline"}],adminMenus:[{name:"任务中心",index:"/home/taskCenter",icon:"el-icon-edit",submenu:[{name:"历史任务",index:"/home/taskCenter",icon:"el-icon-search"},{name:"任务指派",index:"/home/assignTask",icon:"el-icon-share"}]}],taskHistory:[],cities:[],brandList:[],modelList:[],modelDetailList:[],dealerList:[],taskTypeList:[{value:1,label:"量化任务-数据录入"},{value:2,label:"量化任务-数据验证"}],conditionList:[{value:1,label:"车况一般"},{value:2,label:"车况较好"},{value:3,label:"车况优秀"}],usersList:[],dealTypeList:[{value:4,label:"批发"},{value:3,label:"车商零售"},{value:2,label:"车商收购"},{value:1,label:"个人交易"}],platForm:[],tasksData:{},dataDetail:{},isAbleInput:!0,isAbleValidate:!0,colors:[{value:"红",label:"红色"},{value:"白",label:"白色"},{value:"黑",label:"黑色"},{value:"灰",label:"灰色"},{value:"金",label:"金色"},{value:"银",label:"银色"},{value:"棕",label:"棕色"},{value:"粉",label:"粉色"},{value:"橙",label:"橙色"},{value:"黄",label:"黄色"},{value:"绿",label:"绿色"},{value:"青",label:"青色"},{value:"蓝",label:"蓝色"},{value:"紫",label:"紫色"},{value:"其他",label:"其他"}],useProperty:[{value:1,label:"营运车辆"},{value:3,label:"非营运车辆"},{value:2,label:"营转非"}],taskHistoryTable:[],taskSearchRuleForm:{people:"",taskType:"",startEndDate:""},pagination:{pageSizes:[10,20,30,40],pageSize:10,total:0,currentPage:1,jumpPage:1}}},241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(2)),s=l(a(240)),u=l(a(239)),i=l(a(233)),o=l(a(232));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return new n.default.Store({strict:!1,state:s.default,mutations:u.default,getters:i.default,actions:o.default})}},256:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{path:"/",redirect:"/login"},{path:"/home",component:function(){return a.e(6).then(a.bind(null,120))},meta:{requiresAuth:!0},children:[{path:"",component:function(){return a.e(0).then(a.bind(null,106))},meta:{requiresAuth:!0}},{path:"dataInput",name:"dataInput",component:function(){return a.e(0).then(a.bind(null,106))},meta:{requiresAuth:!0}},{path:"validateData",name:"validateData",component:function(){return a.e(5).then(a.bind(null,119))},meta:{requiresAuth:!0}},{path:"taskCenter",name:"taskCenter",component:function(){return a.e(4).then(a.bind(null,118))},meta:{requiresAuth:!0}},{path:"assignTask",name:"assignTask",component:function(){return a.e(3).then(a.bind(null,117))},meta:{requiresAuth:!0}}]},{path:"/login",component:function(){return Promise.all([a.e(1),a.e(2)]).then(a.bind(null,116))}}]},257:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(165)),s=u(a(256));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return new n.default({routes:s.default,mode:"history",linkActiveClass:"link-active",linkExactActiveClass:"link-exact-active",scrollBehavior:function(e,t,a){return a||{x:0,y:0}}})}},258:function(e,t,a){"use strict";a.r(t);var n=a(141),s=a(115);for(var u in s)"default"!==u&&function(e){a.d(t,e,function(){return s[e]})}(u);var i=a(0),o=Object(i.a)(s.default,n.a,n.b,!1,null,null,null);t.default=o.exports},261:function(e,t,a){"use strict";var n=d(a(36)),s=d(a(258));a(263);var u=d(a(165)),i=d(a(257)),o=d(a(2)),l=d(a(241)),r=d(a(152));a(172);var c=a(33);function d(e){return e&&e.__esModule?e:{default:e}}n.default.use(r.default,{size:"small",zIndex:3e3}),n.default.use(u.default),n.default.use(o.default);var f=(0,i.default)(),m=(0,l.default)();f.beforeEach(function(e,t,a){var n=(0,c.getSessionStore)("login"),s=(0,c.getSessionStore)("defaultNav");e.matched.some(function(e){return e.meta.requiresAuth})?(n?"/"!==t.fullPath?(m.commit("CURRENT_ROUTER",{defaultNav:s}),a(!1)):a():a({path:"/login",query:{redirect:e.fullPath}}),a()):a()}),new n.default({store:m,router:f,el:"#App",template:"<App />",components:{App:s.default}})},263:function(e,t){},33:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeSessionStore=t.removeStore=t.getSessionStore=t.getStore=t.setSessionStore=t.setStore=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(250));t.setStore=function(e,t){e&&("string"!=typeof t&&(t=(0,n.default)(t)),window.localStorage.setItem(e,t))},t.setSessionStore=function(e,t){e&&("string"!=typeof t&&(t=(0,n.default)(t)),window.sessionStorage.setItem(e,t))},t.getStore=function(e){if(e)return window.localStorage.getItem(e)},t.getSessionStore=function(e){if(e)return window.sessionStorage.getItem(e)},t.removeStore=function(e){e&&window.localStorage.removeItem(e)},t.removeSessionStore=function(e){e&&window.sessionStorage.removeItem(e)}}},[[261,7,8]]]);